###################### SEQUENCE OPTIMIZATION PARAMETERS #######################

mode: "chisel"                         # 'no_mods' to skip chiseling (i.e. no sequence changes)
                                       # 'no_hinge' to only returning chiseled sequences
constraints:
  # RE sites to avoid                  # https://edinburgh-genome-foundry.github.io/DnaChisel 
  - type: AvoidPattern                 # for more options.
    pattern: BsaI_site              
    strand: both                        
  - type: AvoidPattern
    pattern: BsmBI_site
    strand: both
  - type: AvoidPattern
    pattern: BbsI_site
    strand: both
  - type: AvoidPattern
    pattern: SapI_site
    strand: both
  - type: AvoidPattern
    pattern: BtgZI
    strand: both

  - type: AvoidPattern                  # Nanopore does not do well  
    pattern: "AAAAAA"                   # with homopolymeric runs
    strand: both
  - type: AvoidPattern
    pattern: "CCCCCC"
    strand: both

  - type: EnforceTranslation            # force changes to be synonymous

  - type: AvoidHairpins                 # avoid hairpins
    stem_size: 20
    hairpin_window: 250

  - type: EnforceGCContent.             # enforce GC content 
    mini: 0.2                           # within these bounds  
    maxi: 0.6
    window: 60

optimizations:
  - type: UniquifyAllKmers              # optimize to minimze 10 bp repeats
    include_reverse_complement: True
    k: 10

codon_opt: 'use_best_codon'          # use_best_codon, harmonize_rca, hybrid, none
 
species: e_coli                         # taxids work as do species names

codon_tbl: "cocoputs"                   # can be "kazusa" or "none"

deintronize: "off"     


############################ CLONING PARAMETERS ###############################

# these are the outer overhangs used for cloning into the pIGGY vectors
ext_overhangs:
  - AATG
  - GCTT

########################### TWO-STEP PARAMETERS #################################

two_step: "off"               # can turn it off with the '--two_step off' flag
two_step_length: 1104         # first step frament max length

# Adds BsmBI sites to the first step fragments that are used for second step 
# cloning. Only relevant if two_step is enable
two_step_5p_end: "AATGCGTCTCA"
two_step_3p_end: "AGAGACGGCTT"


# Adds BsmBI sites to the first step fragments that are used for second step 
# cloning. Only relevant if two_step is enable
two_step_5p_end: "AATGCGTCTCA"
two_step_3p_end: "AGAGACGGCTT"

# Generates AATG on the 5'end of a CDS, and GCTT on 3' end. 
base_5p_end: "AATG"
base_3p_end: "GCTT"

# The IIS sequences appended to the 5' end of each first-step oligo is defined 
# here. This adds BsaI sites. 
pcr_5p_cut: "CGTCTCA"
pcr_3p_cut: "AGAGACG"

########################### HINGING PARAMETERS #################################

# Increase to 250 for 300 bp oligos; decrease to 150 for 200 bp oligos.
# Decrease to 198 if you are cloning with BbsI w/ 250 bp oligos
segment_length: 200

# max_fragments: Max number of fragments per PCR reaction.
max_fragments: 18

# radius value used by goldenhinges
radius: 8

# row of barcode primers file to start from
primer_index: 1

# Fidelity scoring data; multiple datasets are in the data folder 
fidelity_data: 'data/FileS03_T4_18h_25C.xlsx'

ohsets: 'data/hf_oh_sets.xlsx'

# n_tries: Number of overhang sets to test for generating hinges.
n_tries: 10

# file with indexing primers. 
index_primers: "data/10K_primers_renamed.csv"
